<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>The Phone Store - Add a phone to the store</title>

    <script type="text/javascript">
        function checkInput() {
            var flag = true;

            //id check
            var id = document.getElementById("form")["id"];
            var regex = /^.[0-9]{2}$/
            if(!regex.test(id.value)) {
                id.setAttribute("style", "background-color:red");
                flag = false;
            }
            else {
                id.setAttribute("style", "background-color:");
            }

            //model check
            var model = document.getElementById("form")["model"];
            var regex = /^[^\s]/
            if(!regex.test(model.value)) {
                model.setAttribute("style", "background-color:red");
                flag = false;
            }
            else {
                model.setAttribute("style", "background-color:");
            }

            //price check
            var price = document.getElementById("form")["price"];
            var regex = /^[0-9]+(\.[0-9]+)?$/
            if(!regex.test(price.value) || price.value < 0 || price.value > 5000) {
                    price.setAttribute("style", "background-color:red");
                    flag = false;
            }
            else {
                price.setAttribute("style", "background-color:");
            }

            if(flag) {
                document.forms["form"].submit();
            }
        }
    </script>
</head>
<body>
    <h1>Add a new Phone</h1>
    <p>Fill the following phone information pleas:</p>

    <form id="form" method="post" action="AddPhoneToDB.php">
       <div><label>Phone ID:</label>
        <input type="text" name="id">
        </div>

        <div><label>Phone model:</label>
            <input type="text" name="model">
        </div>

        <div><label>Phone color:</label>
            <input type="color" name="color">
        </div>

        <div><label>Phone price:</label>
            <input type="text" name="price">
        </div>

        <div><label>Support touch :</label>
            <input type="checkbox" name="touch" checked>
        </div>

        <div>
            <input type="button" name = "search" value="search" onclick="checkInput()">
            <input type="reset" name = "reset" value="reset">
        </div>
    </form>
</body>
</html>